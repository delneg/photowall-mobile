# 1. Структура API для работы приложения

Все данные передаются и возвращаются в формате JSON.

В целях упрощения представлена авторизация по логину и паролю, однако сервер также может вернуть token пользователя, авторизовавшегося через социальную сеть.

## 1.2 Авторизация

/api-token-auth

**Авторизация:**
Не требуется

**Метод:**
POST

**Отправляемые данные:**
username – строка, имя пользователя

password – строка, пароль

**Возвращаемые данные:**

token – токен авторизации пользователя

При ошибках – в возвращаемых данных в полях username и password соответственно содержаться ошибки для каждого из полей.

## 1.3 Получение списка мероприятий

/events/

**Авторизация:**
Не требуется

**Метод:**

GET

**Формат возвращаемых данных:**
[ {
      "id": 3,
      "name": "Blockchain & Bitcoin Conference St. Petersburg",
      "description": "Уникальное мероприятиe на территории СНГ и Европы, которое соберёт вместе истинных криптоголиков для определения понятия «Blockchain» и его влияния на будущее финансовой системы мира.",
      "start_date": "2017-06-22T06:00:00+0000",
      "end_date": "2017-06-22T20:00:00+0000",
      "image_set": [
        {
          "id": 37,
          "image": "/media/images/data-image-jpeg_16.jpeg",
          "uploaded_by": {
            "id": "a5488ad7-d32d-4e92-9844-e968069dd41c",
            "username": "username",
            "first_name": "",
            "last_name": ""
          },
          "event": 3,
          "published": true,
          "created_at": "2017-06-12T18:56:44+0000",
          "comment": ""
        },
      ]
]

## 1.4 Получение данных о конкретном мероприятии

/event/{id}

**Авторизация:**

Не требуется

**Метод:**
GET

**Отправляемые данные:**
id – идентификатор мероприятия, число

**Формат возвращаемых данных:**

{"id": 3,
  "name": "Blockchain & Bitcoin Conference St. Petersburg",
  "description": "Уникальное мероприятиe на территории СНГ и Европы, которое соберёт вместе истинных криптоголиков для определения понятия «Blockchain» и его влияния на будущее финансовой системы мира.",
  "start_date": "2017-06-22T06:00:00+0000",
  "end_date": "2017-06-22T20:00:00+0000",
  "image_set": [
    {
      "id": 37,
      "image": "/media/images/data-image-jpeg_16.jpeg",
      "uploaded_by": {
        "id": "a5488ad7-d32d-4e92-9844-e968069dd41c",
        "username": "username",
        "first_name": "",
        "last_name": ""
      },
      "event": 3,
      "published": true,
      "created_at": "2017-06-12T18:56:44+0000",
      "comment": ""
    }]}

## 1.5 Загрузка фотографии к мероприятию

/image/upload

**Авторизация:**
Требуется

**Метод:**

POST

**Отправляемые данные:**

image – фотография

comment – комментарий

event – идентификатор мероприятия

**HTTP headers:**

headers: {
   **&#39;Content-Type&#39;** : **&#39;multipart/form-data&#39;** ,
   **&#39;Authorization&#39;** : **&#39;Token &#39;** + **token**
}

**Формат возвращаемых данных:**

{
  "id": 38,
  "image": "photo_2017-05-19_19-56-51.jpg",
  "event": 3,
  "comment": ""}

